<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>




  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.2"/>




  <meta name="keywords" content="Hexo,next" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.2" />




  <title> 细嗅蔷薇 </title>
</head>

<body>
  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">细嗅蔷薇</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>


  <ul id="menu" class="menu">
     
    
      
      <li class="menu-item menu-item-home">
        <a href="/">
          <i class="menu-item-icon icon-home"></i> <br />
          首页
        </a>
      </li>
    
      
      <li class="menu-item menu-item-categories">
        <a href="/categories">
          <i class="menu-item-icon icon-categories"></i> <br />
          分类
        </a>
      </li>
    
      
      <li class="menu-item menu-item-archives">
        <a href="/archives">
          <i class="menu-item-icon icon-archives"></i> <br />
          归档
        </a>
      </li>
    
      
      <li class="menu-item menu-item-tags">
        <a href="/tags">
          <i class="menu-item-icon icon-tags"></i> <br />
          标签
        </a>
      </li>
    
      
      <li class="menu-item menu-item-about">
        <a href="/about">
          <i class="menu-item-icon icon-about"></i> <br />
          关于
        </a>
      </li>
    
  </ul>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <div id="posts" class="posts-expand">
    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/04/22/buffer-vs-cache/">
                linux buffer vs cache
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-04-22
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/linux/">linux</a>

              
              
                ， 
              

            
              <a href="/categories/linux/core/">core</a>

              
              
                ， 
              

            
              <a href="/categories/linux/core/memory-management/">memory management</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>一直不太明白Linux下buffer和cache的关系，下面的回答来自robert love在quora上的回答，看了以后应该比较清楚了</p>
<ul>
<li><code>The page cache caches pages of files to optimize file I/O. The buffer cache caches disk blocks to optimize block I/O.</code></li>
<li><p><code>Prior to Linux kernel version 2.4, the two caches were distinct: Files were in the page cache, disk blocks were in the buffer cache. Given that most files are represented by a filesystem on a disk, data was represented twice, once in each of the caches. Many Unix systems follow a similar pattern.</code></p>
</li>
<li><p><code>This is simple to implement, but with an obvious inelegance and inefficiency. Starting with Linux kernel version 2.4, the contents of the two caches were unified. The VM subsystem now drives I/O and it does so out of the page cache. If cached data has both a file and a block representation—as most data does—the buffer cache will simply point into the page cache; thus only one instance of the data is cached in memory. The page cache is what you picture when you think of a disk cache: It caches file data from a disk to make subsequent I/O faster.</code></p>
</li>
</ul>
<p>The buffer cache remains, however, as the kernel still needs to perform block I/O in terms of blocks, not pages. As most blocks represent file data, most of the buffer cache is represented by the page cache. But a small amount of block data isn’t file backed—metadata and raw block I/O for example—and thus is solely represented by the buffer cache.</p>
<p>Short answer: Cached is the size of the page cache. Buffers is the size of in-memory block I/O buffers. Cached matters; Buffers is largely irrelevant.</p>
<p>Long answer: Cached is the size of the Linux page cache, minus the memory in the swap cache, which is represented by SwapCached (thus the total page cache size is Cached + SwapCached). Linux performs all file I/O through the page cache. Writes are implemented as simply marking as dirty the corresponding pages in the page cache; the flusher threads then periodically write back to disk any dirty pages. Reads are implemented by returning the data from the page cache; if the data is not yet in the cache, it is first populated. On a modern Linux system, Cached can easily be several gigabytes. It will shrink only in response to memory pressure. The system will purge the page cache along with swapping data out to disk to make available more memory as needed.</p>
<p>Buffers are in-memory block I/O buffers. They are relatively short-lived. Prior to Linux kernel version 2.4, Linux had separate page and buffer caches. Since 2.4, the page and buffer cache are unified and Buffers is raw disk blocks not represented in the page cache—i.e., not file data. The Buffers metric is thus of minimal importance. On most systems, Buffers is often only tens of megabytes.</p>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/linux/"> #linux </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/04/22/buffer_vs_cache/">
                未命名
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-04-22
        </span>

        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>The page cache caches pages of files to optimize file I/O. The buffer cache caches disk blocks to optimize block I/O.</p>
<p>Prior to Linux kernel version 2.4, the two caches were distinct: Files were in the page cache, disk blocks were in the buffer cache. Given that most files are represented by a filesystem on a disk, data was represented twice, once in each of the caches. Many Unix systems follow a similar pattern.</p>
<p>This is simple to implement, but with an obvious inelegance and inefficiency. Starting with Linux kernel version 2.4, the contents of the two caches were unified. The VM subsystem now drives I/O and it does so out of the page cache. If cached data has both a file and a block representation—as most data does—the buffer cache will simply point into the page cache; thus only one instance of the data is cached in memory. The page cache is what you picture when you think of a disk cache: It caches file data from a disk to make subsequent I/O faster.</p>
<p>The buffer cache remains, however, as the kernel still needs to perform block I/O in terms of blocks, not pages. As most blocks represent file data, most of the buffer cache is represented by the page cache. But a small amount of block data isn’t file backed—metadata and raw block I/O for example—and thus is solely represented by the buffer cache.</p>
<p>Short answer: Cached is the size of the page cache. Buffers is the size of in-memory block I/O buffers. Cached matters; Buffers is largely irrelevant.</p>
<p>Long answer: Cached is the size of the Linux page cache, minus the memory in the swap cache, which is represented by SwapCached (thus the total page cache size is Cached + SwapCached). Linux performs all file I/O through the page cache. Writes are implemented as simply marking as dirty the corresponding pages in the page cache; the flusher threads then periodically write back to disk any dirty pages. Reads are implemented by returning the data from the page cache; if the data is not yet in the cache, it is first populated. On a modern Linux system, Cached can easily be several gigabytes. It will shrink only in response to memory pressure. The system will purge the page cache along with swapping data out to disk to make available more memory as needed.</p>
<p>Buffers are in-memory block I/O buffers. They are relatively short-lived. Prior to Linux kernel version 2.4, Linux had separate page and buffer caches. Since 2.4, the page and buffer cache are unified and Buffers is raw disk blocks not represented in the page cache—i.e., not file data. The Buffers metric is thus of minimal importance. On most systems, Buffers is often only tens of megabytes.</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/04/18/vim使用小结（基础篇）/">
                vim使用小结（基础篇）
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-04-18
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/vim/">vim</a>

              
              
                ， 
              

            
              <a href="/categories/vim/tools/">tools</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h1 id="vim_使用小结基础篇">vim 使用小结基础篇</h1><p>  使用vim已经有几年，越发喜欢了。不过关于vim的了解仍然处于比较初级的阶段，一些基础的使用方法和快捷键可以很大程度上提高使用效率。</p>
<h2 id="关于vim中的常用快捷键">关于vim中的常用快捷键</h2><ul>
<li>与跳转有关的<br><code>w 向后跳转一个单词</code><br><code>b 向前跳转一个单词</code><br><code>0 跳转到行首</code><br><code>$ 跳转到行尾</code><br><code>A 跳到行尾并进入插入模式</code><br><code>I 跳到行首进入插入模式</code><br><code>f 单行内快速定位到某个字符</code><br><code>F 单行内反向定位到某个字符</code><br><code>t 单行内快速定位到某个字符的前一个字符</code><br><code>gg 跳转到文件首行</code><br><code>G 跳转到文件的最后一行</code><br><code>Ctrl-o 跳到上一个位置</code><br><code>Ctrl-i 跳到下一个位置</code><br><code>数字gg 跳到第n行</code><br><code>&#39;. 跳到上一个编辑的置</code><br><code>Ctrl-f Ctrl-y Ctrl-d Ctrl-b 以页或半页为单位的跳转</code><br><code>*/# 提供了搜索光标处单词的功能</code></li>
</ul>
<p>另外，使用插件<a href="https://github.com/Lokaltog/vim-easymotion" target="_blank" rel="external">easymotion</a>可以实现更大范围，更灵活的跳转。</p>
<ul>
<li><p>与编辑有关的</p>
<ul>
<li>默认的编辑功能<br><code>dd 删除行</code><br><code>yy 复制行</code><br><code>pp 粘贴行</code><br><code>%s/word1/word2/g 使用word2全局替换word1</code></li>
<li><a href="https://github.com/kien/ctrlp.vim" target="_blank" rel="external">Ctrlp</a>插件提供的功能<br><code>&lt;Leader&gt;t 搜索磁盘上文件</code><br><code>&lt;Leader&gt;b 搜素缓存区文件</code><br><code>&lt;Leader&gt;z 上一个缓存区文件</code><br><code>&lt;Leader&gt;x 下一个缓存区文件</code></li>
<li><a href="https://github.com/tpope/vim-surround" target="_blank" rel="external">surround</a>插件提供的功能<br><code>yss 在一行两侧添加某种符号对</code><br><code>ysiw 在一个词两侧添加符号对</code><br><code>ds 删除某个符号对</code><br><code>cs 用一种符号对替换另一种</code></li>
<li><a href="https://github.com/plasticboy/vim-markdown" target="_blank" rel="external">markdown插件</a>提供的功能<br><code>]] 后一个header</code><br><code>[[ 前一个header</code><br><code>][ 兄弟节点</code><br><code>]c 当前header</code><br><code>]u 父header</code><br><code>HeaderDecrease 将所有header降级</code><br><code>HeaderIncrease 将所有header升级</code></li>
</ul>
</li>
<li><p>其他的一些插件和功能</p>
<ul>
<li><a href="https://github.com/rking/ag.vim" target="_blank" rel="external">Ag插件</a>:提供类似于全文索引的功能，需要安装<a href="https://github.com/ggreer/the_silver_searcher" target="_blank" rel="external">the_silver_searcher</a></li>
<li>git相关的插件:<a href="https://github.com/gregsexton/gitv" target="_blank" rel="external">gitv</a>, <a href="https://github.com/mattn/gist-vim" target="_blank" rel="external">gist-vim</a>, <a href="https://github.com/tpope/vim-fugitive" target="_blank" rel="external">vim-fugitive</a>, <a href="https://github.com/tpope/vim-fugitive" target="_blank" rel="external">vim-git</a>，提供了很强大的功能，比如查找修改过代码和在整个git库中搜素的功能等</li>
</ul>
</li>
</ul>
<h1 id="小结">小结</h1><p> 关于vim的其他部分，还在努力学习中，希望可以在近期完成进阶版的vim整理过程。</p>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/editor/"> #editor </a>
          
            <a href="/tags/tools/"> #tools </a>
          
            <a href="/tags/vim/"> #vim </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/04/17/vim-使用小结/">
                vim 使用小结
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-04-17
        </span>

        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          
        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/04/17/iproute2-用法整理/">
                iproute2 用法整理
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-04-17
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/administrator/">administrator</a>

              
              
                ， 
              

            
              <a href="/categories/administrator/network/">network</a>

              
              
                ， 
              

            
              <a href="/categories/administrator/network/Linux/">Linux</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h1 id="iproute2介绍">iproute2介绍</h1><p>iprout2被建议用来取代ipconfig、netstat、route、arp等命令，使用netlink网络协议来<br>从用户态向内核进行通信，获取和设置相应的信息。</p>
<h1 id="iproute2的组成">iproute2的组成</h1><p><a href="http://baturin.org/docs/iproute2/" target="_blank" rel="external">参考资料1</a><br><a href="https://www.digitalocean.com/community/tutorials/how-to-use-iproute2-tools-to-manage-network-configuration-on-a-linux-vps" target="_blank" rel="external">参考资料2</a><br>iproute2由一系列的命令格式组成，分别处理各种不同的事情，一般，查看信息使用一般的用户即可，设置信息需要root用户<br>由于iproute2支持的选项很多，整理了一些常用的备忘</p>
<h2 id="查看网络接口，地址和路由信息">查看网络接口，地址和路由信息</h2><ul>
<li>显示网络信息<br><code>ip addr</code></li>
<li>显示特定网络接口的信息<br><code>ip addr show eth0</code></li>
<li>如果只显示接口本身的信息<br><code>ip link</code></li>
<li>查询网络统计数据<br><code>ip -s link show eth0</code></li>
<li>查询路由表<br><code>ip route show</code></li>
</ul>
<h2 id="设置网络信息">设置网络信息</h2><ul>
<li>设置网络信息<br><code>ip link set eth0 up/down</code><br>  <code>ip link set eth0 multicast on/off</code><br>  <code>ip link set eth0 name/arp/mtu/txqueuelen</code></li>
<li>设置地址信息<br>  <code>ip addr add *ip_address/net_prefix* brd + dev interface</code><br>  <code>ip addr del *ip_address/net_prefix* dev interface</code></li>
<li><p>设置路由信息<br>  <code>ip route add|change|replace|delete</code></p>
<h2 id="其他功能">其他功能</h2></li>
<li><p>管理查看路由规则<br>  <code>ip rule show</code><br>  <code>ip rule list</code></p>
</li>
<li>管理arp相关信息<br>  <code>ip neigh show</code><br>  <code>ip neigh delete *ip addr*  dev eth0</code></li>
<li>管理tune和tap等功能<br>  <code>*这部分我不懂。。。*</code></li>
</ul>
<h2 id="工具ss的使用">工具ss的使用</h2><p><a href="http://www.cyberciti.biz/files/ss.html" target="_blank" rel="external">参考资料</a></p>
<ul>
<li>和netstat兼容的功能<br>  <code>ss -t -a dumps all TCP sockets</code><br>  <code>ss -u -a dumps all UDP sockets</code><br>  <code>ss -w -a dumps all RAW sockets</code><br>  <code>ss -x -a dumps all UNIX sockets</code><br>  <code>-o shows TCP timers state.</code><br>  <code>-e shows some extended information</code></li>
<li>引入的新的功能<ul>
<li>通过状态进行过滤<br><code>ss exclue SYN-RECV</code></li>
<li>通过地址和端口进行过滤<br><code>ss -o state fin-wait-1 \(sport = :http or sport = :https \) dst 193.233.7/24</code><br><code>ss -a -A all autobound</code></li>
</ul>
</li>
</ul>
<p>最后，从<a href="http://www.iamle.com/archives/1750.html" target="_blank" rel="external">这个网站</a>找到两张非常好的图</p>
<ul>
<li><p>iproute2 功能介绍<br><img src="https://github.com/mtxrym/photo/raw/master/iproute2%20thought.png" alt="iproute2功能介绍"></p>
</li>
<li><p>iproute2 和 nettool的比较<br><img src="https://github.com/mtxrym/photo/raw/master/iproute2%20vs%20nettools.png" alt="iproute2和常用工具对比"></p>
</li>
</ul>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/iproute2/"> #iproute2 </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/04/16/工具推荐/">
                工具推荐
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-04-16
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/shell/">shell</a>

              
              
                ， 
              

            
              <a href="/categories/shell/administrator/">administrator</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h1 id="查看系统的状况和进程状况">查看系统的状况和进程状况</h1><ul>
<li>htop<br>  比起top功能更为强大，并且更为直观，用于观测系统的整体情况。</li>
<li>tree<br>  用于查看文件系统的情况，相当于ls -xx</li>
<li>nload<br>  用于查看实时的网络流量</li>
<li>sysstat<br>  iostat 和 sar都在这个包里面，iostat多用于检测硬盘的流量，IOPS等</li>
</ul>
<h1 id="TO_BE_CONTINUED…">TO BE CONTINUED…</h1>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/shell/"> #shell </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/04/16/hello/">
                hello
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-04-16
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/jokes/">jokes</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <blockquote><p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.</p>
<footer><strong>David Levithan</strong><cite>Wide Awake</cite></footer></blockquote>
<blockquote><p>NEW: DevDocs now comes with syntax highlighting. <a href="http://devdocs.io" target="_blank" rel="external">http://devdocs.io</a></p>
<footer><strong>@DevDocs</strong><cite><a href="https://twitter.com/devdocs/status/356095192085962752" target="_blank" rel="external">twitter.com/devdocs/status/356095192085962752</a></cite></footer></blockquote>
<blockquote><p>Every interaction is both precious and an opportunity to delight.</p>
<footer><strong>Seth Godin</strong><cite><a href="http://sethgodin.typepad.com/seths_blog/2009/07/welcome-to-island-marketing.html" target="_blank" rel="external">Welcome to Island Marketing</a></cite></footer></blockquote>
<p><img src="https://github.com/mtxrym/photo/raw/master/%5Bcat%2C%20%5Bcat%5D%5D.png" alt="test photo"></p>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/jokes/"> #jokes </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
  </div>

  

        </div>
      </div>

      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      <div class="site-overview">
        <div class="site-author motion-element">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="mtxrym" />
          <p class="site-author-name">mtxrym</p>
        </div>
        <p class="site-description motion-element"></p>
        <div class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">7</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">11</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">7</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </div>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

      </div>

      

    </div>
  </div>


    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp; 
  2015
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">mtxrym</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $('.content img').each(function () {
        var $image = $(this);
        var $imageWrapLink = $image.parent('a');

        if ($imageWrapLink.size() < 1) {
          $imageWrapLink = $image.wrap('<a href="' + this.getAttribute('src') + '"></a>').parent('a');
        }
        $imageWrapLink.addClass('fancybox');
      });
    });
    $('.fancybox').fancybox({
      helpers: {
        overlay: {
          locked: false
        }
      }
    });
  </script>


  <script type="text/javascript">
  function hasMobileUA () {
    var nav = window.navigator;
    var ua = nav.userAgent;
    var pa = /iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g;

    return pa.test(ua);
  }

  function isDesktop () {
    return screen.width > 991 && !hasMobileUA();
  }

  function isTablet () {
    return screen.width < 992 && screen.width > 767 && hasMobileUA();
  }

  function isMobile () {
    return screen.width < 767 && hasMobileUA();
  }

  function escapeSelector (selector) {
    return selector.replace(/[!"$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g, "\\$&")
  }
</script>

  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" id="motion.global">
  $(document).ready(function () {
    var body = $('body');
    var isSidebarVisible = false;
    var sidebarToggle = $('.sidebar-toggle');
    var sidebarToggleLine1st = $('.sidebar-toggle-line-first')
    var sidebarToggleLine2nd = $('.sidebar-toggle-line-middle');
    var sidebarToggleLine3rd = $('.sidebar-toggle-line-last');
    var sidebar = $('.sidebar');

    var SIDEBAR_WIDTH = '320px';
    var SIDEBAR_DISPLAY_DURATION = 300;

    var sidebarToogleLineStatusInit = {width: '100%', opacity: 1, left: 0, rotateZ: 0, top: 0};

    var sidebarToggleLine1stStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine1stStatusArrow = {width: '50%', rotateZ: '-45deg', top: '2px'};
    var sidebarToogleLine1stStatusClose = {width: '100%', rotateZ: '-45deg', top: '5px'};

    var sidebarToggleLine2ndStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine2ndStatusArrow = {width: '90%'};
    var sidebarToogleLine2ndStatusClose = {opacity: 0};

    var sidebarToggleLine3rdStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine3rdStatusArrow = {width: '50%', rotateZ: '45deg', top: '-2px'};
    var sidebarToogleLine3rdStatusClose = {width: '100%', rotateZ: '45deg', top: '-5px'};

    LogoAndMenuMotion();
    sidebatToggleMotion();
    postsListMotion();
    backToTopMotion();


    $(document)
      .on('sidebar.isShowing', function () {
        isDesktop() && body.velocity(
          {paddingRight: SIDEBAR_WIDTH},
          SIDEBAR_DISPLAY_DURATION
        );
        sidebarContentMotion();
      })
      .on('sidebar.isHiding', function () {});

    function LogoAndMenuMotion() {
      $.Velocity.RunSequence([
        { e: $('.brand'), p: { opacity: 1 }, o: { duration: 100 } },
        { e: $('.logo'), p: { opacity: 1, top: 0 }, o: { duration: 50} },
        
        { e: $('.logo-line-before i'), p: { translateX: "100%" }, o: { duration: 500, sequenceQueue: false } },
        { e: $('.logo-line-after i'), p: { translateX: "-100%" }, o: { duration: 500, sequenceQueue: false } },
        
        { e: $('.site-title'), p: { opacity: 1, top: 0 }, o: { duration: 200 } }
      ]);
      $('.menu-item').velocity('transition.slideDownIn', {display: null});
    }


    function backToTopMotion () {
      var b2top = $('.back-to-top');
      b2top.on('click', function () {
        body.velocity('scroll');
      });
    }

    function sidebarShowMotion () {

      sidebarToggleLine1st.velocity(sidebarToogleLine1stStatusClose);
      sidebarToggleLine2nd.velocity(sidebarToogleLine2ndStatusClose);
      sidebarToggleLine3rd.velocity(sidebarToogleLine3rdStatusClose);

      sidebar.velocity({width: SIDEBAR_WIDTH}, {
        display: 'block',
        duration: SIDEBAR_DISPLAY_DURATION,
        complete: function () {
          sidebar.addClass('sidebar-active');
          sidebar.trigger('sidebar.didShow');
        }
      });
      sidebar.trigger('sidebar.isShowing');
    }

    function sidebarHideMotion () {
      isDesktop() && body.velocity({paddingRight: 0});
      sidebar.velocity('reverse');

      sidebarToggleLine1st.velocity(sidebarToggleLine1stStatusInit);
      sidebarToggleLine2nd.velocity(sidebarToggleLine2ndStatusInit);
      sidebarToggleLine3rd.velocity(sidebarToggleLine3rdStatusInit);

      sidebar.removeClass('sidebar-active');
      sidebar.trigger('sidebar.isHiding');
    };

    function sidebarContentMotion () {
      $('.sidebar .motion-element').velocity(
        'transition.slideRightIn',
        {stagger: 50, drag: true}
      );
    }

    function postsListMotion () {
      var postMotionOptions = window.postMotionOptions || {stagger: 300, drag: true};
      $('.post').velocity('transition.slideDownIn', postMotionOptions);
    }

    function sidebatToggleMotion () {
      sidebarToggle.on('click', function () {
        isSidebarVisible ? sidebarHideMotion() : sidebarShowMotion();
        isSidebarVisible = !isSidebarVisible;
      });

      sidebarToggle.hover(function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusArrow);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusArrow);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusArrow);
      }, function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusInit);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusInit);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusInit);
      });
    }
  });

</script>





  

  

  
  
  

  




  
</body>
</html>
